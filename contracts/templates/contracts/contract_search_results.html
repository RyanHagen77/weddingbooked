{% if contracts %}
<div class="search-results">
    <table>
        <thead>
            <tr>
                <th>Contract ID</th>
                <th>Event Date</th>
                <th>Primary Contact</th>
                <th>Photographer</th>
                <th>Videographer</th>
                <th>Photobooth</th>
                <th>Sales Person</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
        {% for contract in contracts %}
        <tr onclick="window.location='{% url 'contracts:contract_detail' id=contract.pk %}';">
            <td>{{ contract.custom_contract_number }}</td>
            <td>{{ contract.event_date|date:"Y-m-d" }}</td>
            <td>{{ contract.client.primary_contact }}</td>
            <td>{{ contract.photographer1.get_full_name|default:"Not Assigned" }}</td>
            <td>{{ contract.videographer1.get_full_name|default:"Not Assigned" }}</td>
            <td>{{ contract.photobooth_op1.get_full_name|default:"Not Assigned" }}</td>
            <td>{{ contract.csr.get_full_name }}</td>
            <td>{{ contract.status }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<!-- Pagination Block -->
<div style="width: 100%; text-align: center; margin-top: 20px;">
    <div class="pagination">
        <span class="step-links">
            {% if contracts.has_previous %}
                <a href="?page=1">&laquo; First</a>
                <a href="?page={{ contracts.previous_page_number }}">Previous</a>
            {% endif %}

            <span class="current">
                Page {{ contracts.number }} of {{ contracts.paginator.num_pages }}
            </span>

            {% if contracts.has_next %}
                <a href="?page={{ contracts.next_page_number }}">Next</a>
                <a href="?page={{ contracts.paginator.num_pages }}">Last &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>
{% else %}
<p>No contracts found.</p>
{% endif %}
